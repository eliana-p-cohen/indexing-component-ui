(window.webpackJsonp=window.webpackJsonp||[]).push([[10],{Oztf:function(e,t,r){"use strict";r.r(t),r.d(t,"SearchTrademarkModule",(function(){return w}));var i=r("Ip0R"),s=r("PCNd"),o=r("ZYCi"),a=r("mrSG"),n=r("eBRP"),c=r("Mhg7"),l=r("+u4M"),u=r("dkQB"),h=r("ZPvC"),b=r("F32I"),d=r("IJgu"),f=r("4bHC"),p=r("JK6L"),m=r("V6MO"),g=r("CcnG"),v=r("ZYjt"),S=r("4lrr"),C=r("NSWw"),k=r("VkHG"),R=r("Xv+k"),_=[{path:"",component:function(){function e(e,t,r,i,s,o,a,n,c,l,h){this._searchTrademarkService=e,this._formsService=t,this._titleService=r,this._sharedService=i,this._actionsService=s,this._router=o,this._dialog=a,this._formControlService=n,this._headerService=c,this._loaderService=l,this._editorialService=h,this.title=u.G.SEARCH_TRADEMARK,this.buttonsLabels=u.e,this.classPrefix=u.f,this.checkedRow={},this.url="assets/search-trademark.json",this.pagerData={},this.displayedColumns=[{columnDef:"registrationNo",header:"App/Reg Num",isLink:!0,cell:function(e){return""+e.registrationNo}},{columnDef:"register",header:"Register",cell:function(e){return""+e.register}},{columnDef:"trademark",header:"Trademark Name",cell:function(e){return""+e.trademark}},{columnDef:"ownerName",header:"Owner Name",cell:function(e){return""+e.ownerName}},{columnDef:"status",header:"Status",cell:function(e){return""+e.status}},{columnDef:"Select",header:"Select All",cell:function(e){return""}}],this.sortingColumns=["App/Reg Num","Register","Owner Name","International Class","Trademark Name","Goods","Services","Status"],this.fieldMap=new Map([["host","status"],["dependant","date"]]),this.isDisabled=!0,this.submitted=!1,this._clickedButton=""}return e.prototype.ngOnInit=function(){var e=this;localStorage.removeItem("taskDetails"),this._headerService.setTitle(""),this.formData=this._searchTrademarkService.getSearchForm();var t=this._searchTrademarkService.getSearchCriteria();t&&this.formData.field.map((function(e){if("from"===e.key||"to"===e.key){var r=t[e.key];e.value=r.substring(0,4)+"-"+r.substring(4,6)+"-"+r.substring(6,8)}else e.value=t[e.key]})),this.selectedDropDownValSubscription=this._searchTrademarkService.selectedDropDownVal$.subscribe((function(t){return t?e.selectedOption(t):null})),this.formObjectSubscription=this._sharedService.$formObjectBehaviorSubject.subscribe((function(t){return e.formObj=t})),this._loadingSubscription=this._loaderService.isLoading.subscribe((function(t){e._clickedButton&&(e.buttonsLabels[e._clickedButton].LOADING=t)})),this.setTitle(this.title)},e.prototype.setTitle=function(e){this._titleService.setTitle(e)},e.prototype.onCheckboxChecked=function(e){this.checkedRow=e,this.isDisabled=!(this.checkedRow.selected.length>0),console.log("onCheckboxChecked",this.checkedRow)},e.prototype.onSearch=function(e){this._clickedButton=e;var t=this.formObj.controls.Criteris;if(t.get("from").value&&"--"===t.get("from").value&&t.get("to").value&&"--"===t.get("to").value&&(this.formObj.controls.Criteris.controls.from.setValue(""),this.formObj.controls.Criteris.controls.to.setValue("")),this.submitted=!0,t.submitted=this.submitted,t.invalid){var r=new d.b("Confirm",u.fb.REGISTER_MSG,"","OK");this._dialog.open(d.a,{width:"400px",data:r})}else this._editorialService.register=t.controls.register.value,this.searchResults(1)},e.prototype.onButtonClick=function(e){console.log("onButtonClick",this.checkedRow);var t=[];this.checkedRow.selected.map((function(e){var r=new m.b(e.guid,e.version);t.push(r)})),this._editorialService.guidList=t;var r=this._editorialService.getNextGuidObj();this._router.navigate(["home",r.guid,r.version])},e.prototype.selectedOption=function(e){var t=this.fieldMap.get("host"),r=this.fieldMap.get("dependant");"published"===e[t]&&this.formObj.controls.Criteris.controls[r].setValue("dtPublished"),"registered"===e[t]&&this.formObj.controls.Criteris.controls[r].setValue("dtRegistered")},e.prototype.searchResults=function(e){var t=this,r=this.formObj.controls.Criteris.value;this._searchTrademarkService.setSearchCriteria(r),Object.entries(r).forEach((function(e){var i=e[0],s=e[1];r[i]="from"!==i&&"to"!==i||!s?s:t._sharedService.UTCtoFormat(s)}));var i=r,s={filter:Object(a.a)({},i),currentPage:e,pageSize:u.F};this._searchResultsSubscription=this._searchTrademarkService.searchResults(s).subscribe((function(r){var s;t.dataSource=r.result.map((function(e,t){return e.register="CANA"===e.register?"CIPO":"USPTO",e})),t.pagerData=((s={}).totalItems=parseInt(r.total,10),s.currentPage=parseInt(e,10),s.pageSize=u.F,s.totalPages=parseInt(r.totalPages,10),s),t.filter=i}),(function(e){return console.log(e)}))},e.prototype.pager=function(e){this.searchResults(e.currentPage)},e.prototype.ngOnDestroy=function(){this.selectedDropDownValSubscription.unsubscribe(),this.formObjectSubscription.unsubscribe(),this._loadingSubscription.unsubscribe()},e.\u0275fac=function(t){return new(t||e)(g.Rb(n.a),g.Rb(c.a),g.Rb(v.d),g.Rb(h.a),g.Rb(b.a),g.Rb(o.b),g.Rb(S.b),g.Rb(l.a),g.Rb(f.a),g.Rb(p.a),g.Rb(m.a))},e.\u0275cmp=g.Lb({type:e,selectors:[["app-search-trademark"]],decls:10,vars:29,consts:[[3,"questions","fieldMap"],[3,"label","isLoading","btnClick"],[3,"tableData","tableColumns","sortingColumns","isHighlightRow","showPagination","pagerData","isExpand","filter","checkbox","pager"],[3,"label","isDisabled","btnClick"]],template:function(e,t){1&e&&(g.Xb(0,"section"),g.Xb(1,"h1"),g.Jc(2),g.Wb(),g.Xb(3,"section"),g.Sb(4,"app-dynamic-form",0),g.Xb(5,"div"),g.Xb(6,"app-button",1),g.fc("btnClick",(function(){return t.onSearch("SEARCH")})),g.Wb(),g.Wb(),g.Wb(),g.Xb(7,"app-table",2),g.fc("checkbox",(function(e){return t.onCheckboxChecked(e)}))("pager",(function(e){return t.pager(e)})),g.Wb(),g.Xb(8,"div"),g.Xb(9,"app-button",3),g.fc("btnClick",(function(e){return t.onButtonClick(e)})),g.Wb(),g.Wb(),g.Wb()),2&e&&(g.Fb("",t.classPrefix,"-search-trademark"),g.Cb(2),g.Kc(t.title),g.Cb(1),g.Hb("",t.classPrefix,"-wrapper ",t.classPrefix,"-search-trademark-form ",t.classPrefix,"-form-md"),g.Cb(1),g.qc("questions",t.formData)("fieldMap",t.fieldMap),g.Cb(1),g.Fb("",t.classPrefix,"-form-buttons"),g.Cb(1),g.qc("label",t.buttonsLabels.SEARCH.LABEL)("isLoading",t.buttonsLabels.SEARCH.LOADING),g.Cb(1),g.qc("tableData",t.dataSource)("tableColumns",t.displayedColumns)("sortingColumns",t.sortingColumns)("isHighlightRow",!1)("showPagination",!0)("pagerData",t.pagerData)("isExpand",!0)("filter",t.filter),g.Cb(1),g.Fb("",t.classPrefix,"-form-buttons"),g.Cb(1),g.qc("label",t.buttonsLabels.GO_EDITORIAL.LABEL)("isDisabled",t.isDisabled))},directives:[C.a,k.a,R.a],styles:[""]}),e}()}],D=function(){function e(){}return e.\u0275mod=g.Pb({type:e}),e.\u0275inj=g.Ob({factory:function(t){return new(t||e)},imports:[[o.f.forChild(_)],o.f]}),e}(),w=function(){function e(){}return e.\u0275mod=g.Pb({type:e}),e.\u0275inj=g.Ob({factory:function(t){return new(t||e)},imports:[[i.c,s.a,D]]}),e}()}}]);